<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gauge.js 左下角带刻度示例</title>
  <script src="https://cdn.jsdelivr.net/npm/gaugeJS/dist/gauge.min.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: #f0f2f5;
      position: relative;
    }
    #heartrate_gauge-container {
      position: absolute;
      bottom: 5vw;
      left: 25vw;
      width: 25vw;
      height: 25vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
    }
    #heartrate_gauge-value {
      font-size: 1.5vw;
      font-weight: bold;
      color: #333;
      margin-bottom: 1vw;
    }
    #heartrate_gauge {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>

<div id="heartrate_gauge-container">
  <div id="heartrate_gauge-value">0</div> <!-- 这里是数值显示 -->
  <canvas id="heartrate_gauge"></canvas>
</div>

<script>
  var opts = {
    angle: -0.25, // 0 = 完整圆
    lineWidth: 0.2,
    radiusScale: 1,
    pointer: {
      length: 0.6,
      strokeWidth: 0.04,
      color: '#000000'
    },
    limitMax: false,
    limitMin: false,
    colorStart: '#20538C',
    colorStop: '#20538C',
    strokeColor: '#E0E0E0',
    generateGradient: true,
    highDpiSupport: true,

    // 添加 staticLabels
    staticLabels: {
      font: "12px sans-serif",  // 刻度字体
      labels: [0,20,40,60,80,100,120,140,160,180,200],  // 需要显示的刻度值
      color: "#000",             // 刻度字体颜色
      fractionDigits: 0          // 小数位数
    },
    renderTicks: {
          divisions: 10,
          divWidth: 1.1,
          divLength: 0.7,
          divColor: "#333333",
          subDivisions: 5,
          subLength: 0.5,
          subWidth: 0.6,
          subColor: "#666666"
        }
    // 不需要 staticZones
    // staticZones: []
  };

  var target = document.getElementById('heartrate_gauge');
  var gauge2 = new Gauge(target).setOptions(opts);

  gauge2.maxValue = 200;
  gauge2.setMinValue(0);
  gauge2.animationSpeed = 32;
  
  // 初始设置
  var currentValue = 25;
  gauge2.set(currentValue);

  // 同步显示上方的数值
  document.getElementById('heartrate_gauge-value').innerText = currentValue;

//   示例：动态更新数值
  setInterval(() => {
    currentValue = Math.floor(Math.random() * 201); // 随机值
    gauge.set(currentValue);
    document.getElementById('heartrate_gauge-value').innerText = currentValue;
  }, 2000);

</script>

</body>
</html>
